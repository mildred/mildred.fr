<!DOCTYPE html>
<html>
  <head>
    <title>Category: lysaac - Mildred's Website</title>
    <meta charset='utf-8' />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <meta content='' name='keywords' />
    <meta content='' name='description' />
    <meta content='initial-scale=1.0, width=device-width' name='viewport' />
    <meta content='tag' name='x-kind' />
    <link href='http://mildred.fr/tags/lysaac/' rel='canonical' />
    <link href='../../favicon.png' rel='icon' type='image/png' />
    <link href='../../favicon.png' rel='shortcut icon' type='image/png' />
    <link href='../../style.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='atom.xml' rel='alternate' title='ATOM Feed' type='application/atom+xml' />
    <link href='rss.xml' rel='alternate' title='RSS Feed' type='application/rss+xml' />
    <script src='../../Scripts/json/json2.js' type='text/javascript'></script>
    <script src='../../Scripts/jquery.min.js' type='text/javascript'></script>
    <script src='../../Scripts/comments.js' type='text/javascript'></script>
    <script src='../../Scripts/local.js' type='text/javascript'></script>
  </head>
  <body>
    <div class="header">
      <p class="access-links">
        <a href="#menu">Go to Menu</a>
        <br />
        <a href="#content">Go to Content</a>
      </p>
      <div class="left">
        <a href="../../index.html">
          <img alt="My photo" class="photo" src="../../Images/IMG_5669_square_128.jpeg"/>
        </a>
      </div>
      <div class="title">
        <h1>
          <a href="../../index.html">Mildred's Website</a>
        </h1>
      </div>
      <div class="float-right"></div>
      <div class="clear-right"></div>
      <div class="right">
        <strong>Tags:</strong>
        <ul class="tags">
          <li>
            <a class="tag" href="../cobra/index.html">cobra</a>
          </li>
          <li>
            <a class="tag" href="../comp/index.html">comp</a>
          </li>
          <li>
            <a class="tag" href="../configuration/index.html">configuration</a>
          </li>
          <li>
            <a class="tag" href="../dev/index.html">dev</a>
          </li>
          <li>
            <a class="tag" href="../dream/index.html">dream</a>
          </li>
          <li>
            <a class="tag" href="../en/index.html">en</a>
          </li>
          <li>
            <a class="tag" href="../fedora/index.html">fedora</a>
          </li>
          <li>
            <a class="tag" href="../fr/index.html">fr</a>
          </li>
          <li>
            <a class="tag" href="../freedombox/index.html">freedombox</a>
          </li>
          <li>
            <a class="tag" href="../git/index.html">git</a>
          </li>
          <li>
            <a class="tag" href="../html/index.html">html</a>
          </li>
          <li>
            <a class="tag" href="../idea/index.html">idea</a>
          </li>
          <li>
            <a class="tag" href="../liens/index.html">liens</a>
          </li>
          <li>
            <a class="tag" href="../lisaac/index.html">lisaac</a>
          </li>
          <li>
            <a class="tag" href="index.html">lysaac</a>
          </li>
          <li>
            <a class="tag" href="../misc/index.html">misc</a>
          </li>
          <li>
            <a class="tag" href="../photos/index.html">photos</a>
          </li>
          <li>
            <a class="tag" href="../physics/index.html">physics</a>
          </li>
          <li>
            <a class="tag" href="../politique/index.html">politique</a>
          </li>
          <li>
            <a class="tag" href="../privacy/index.html">privacy</a>
          </li>
          <li>
            <a class="tag" href="../srs/index.html">srs</a>
          </li>
          <li>
            <a class="tag" href="../test/index.html">test</a>
          </li>
          <li>
            <a class="tag" href="../web/index.html">web</a>
          </li>
          <li>
            <a class="tag" href="../website/index.html">website</a>
          </li>
          <li>
            <a class="tag" href="../wwwgen/index.html">wwwgen</a>
          </li>
          <li>
            <a class="tag" href="../wwwsupport/index.html">wwwsupport</a>
          </li>
        </ul>
      </div>
      <div class="content">
        <div class="links" id="menu">
          <ul>
            <li>
              <a href="../../index.html">Home</a>
            </li>
            <li>
              <a href="../../Blog/index.html">Blog</a>
            </li>
            <li>
              <a href="//survie.mildred.fr">Survie</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <div class="leftcol">
      <img alt="My avatar" class="photo" src="../../Images/all128.jpeg"/>
      <hr/>
      <p>GoogleTalk, Jabber, XMPP address:
      <br /><strong><a href="xmpp:mildred&#64;jabber.fr">mildred&#64;jabber.fr</a></strong><!--&nbsp;<img src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/image-dcraven.png" alt=""/><br /><em><script type="text/javascript" src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/message_js.js"></script></em>-->
      </p>
      <hr/>
      <p>
        <a href="../../gpg_key.txt">GPG Public Key</a>
        <br />
        <span style="font-size: 0.8em">
          (Fingerprint 197C A7E6 645B 4299 6D37 684B 6F9D A8D6 9A7D 2E2B)
        </span>
      </p>
    </div>
    <div class='main' id='content'>
      <h1>Category: lysaac</h1>
      <p>Articles from 1 to 10</p>
      <div class="article-list">
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2012/11/28/why_lisaac_is_broken_and_why_i_no_longer_work_on_it/index.html">Why Lisaac is broken and why I no longer work on it</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Wed 28 Nov 2012,</span>
    <span class='time'>02:49 PM</span>
  </span>
  <span class='author'>
    by
    <span class='author-name'>
      Mildred Ki'Lya
    </span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <h2>The overlooked problem</h2>

<p>Let me explain the reason why I think Lisaac is broken and why I stopped
working on it. The fundamental concept behind it is completely broken,
and i never could solve the problem. First, let me explain a few things
about Lisaac:</p>

<ul>
<li>It is statically typed (like Eiffel)</li>
<li>It is prototype based (like Self)</li>
</ul>


<p>It may not seem like it but those two things are mutually exclusive,
unless something is done to reconcile the two. Being statically typed
means you know the type (or a parent of the real type) at compile-time.
Being prototype based means that the type can change completely.</p>

<p>Imagine you have a <code>CUCUMBER</code> that inherit <code>VEGETABLE</code>. If at some point
during run-time, the cucumber inherit <code>SOFTWARE</code> (yes, cucumber is the
name of a software as well) you have a problem. Yet, this is not the
problem I want to talk about.</p>

<p>Lisaac solve this problem because you can only assign a child type as a
parent. In the following object:</p>

<pre><code> Section Header&#x000A;   + name := CUCUMBER;&#x000A; Section Inherit&#x000A;   + parent :VEGETABLE := ...;&#x000A;</code></pre>

<p>So, you're forbidden to assign a <code>SOFTWARE</code> in the <code>parent</code> slot because
<code>SOFTWARE</code> is not a child of <code>VEGETABLE</code>. But, you're allowed to assign
a <code>GREEN_VEGETABLE</code>. So not it becomes:</p>

<pre><code> Section Header&#x000A;   + name := CUCUMBER;&#x000A; Section Inherit&#x000A;   + parent :VEGETABLE := GREEN_VEGETABLE;&#x000A;</code></pre>

<p>Now, let's say you send a message to your cucumber, and through the
magic of inheritance, you end up in a slot of the parent. That is, you
are executing code that is located in <code>GREEN_VEGETABLE</code>. Then, you have
a problem.</p>

<pre><code> Section Header&#x000A;   + name := GREEN_VEGETABLE;&#x000A; Section Public&#x000A;   // inherited from VEGETABLE&#x000A;   - do_something &lt;- paint_it_green;&#x000A; Section Private&#x000A;   // specific to GREEN_VEGETABLE&#x000A;   - paint_it_green &lt;- ( "green".println; );&#x000A;</code></pre>

<p>In the code above, if you are executing the <code>do_something</code> slot and have
<code>SELF = CUCUMBER</code>, you can't possibly call the <code>paint_it_green</code> slot
because it does not exist in <code>CUCUMBER</code>, and the Lisaac compiler will
refuse to compile your code. To explain it another way, the type of
<code>Self</code> is not compatible with <code>GREEN_VEGETABLE</code>, and this is a problem
for this is the code we are executing. You can't easily solve this problem.</p>

<p>In the Self language, if you had a similar situation, it would work
because it is not statically typed. It would have failed to find
<code>paint_in_green</code> in the cucumber and called the parent, which would have
been a green vegetable. Somehow, the type of the cucumber would have
changed at runtime, which is incompatible with a type system that can
only compute types at compile time (and have them immutable at run time).</p>

<h2>So, I stopped working on Lisaac</h2>

<p>I tried to start up a new project, Lysaac, but got confronted to the
same problem once the compiler was mature enough to start getting into
inheritance. So I stopped again.
<a href="http://pesn.com/2012/09/02/9602175_Waking_Up_is_Hard_to_Do/index.html">Life getting in the way</a> didn't help.</p>

<h2>A new hope</h2>

<p>I tried to look into virtual machines, convincing myself that compiled
languages couldn't possibly answer such need to dynamic things in the
language. I looked at Self for the first time. I tried to build a
virtual machine that was fully concurrent. I looked at the Go language
because I know that it has nice concurrent primitives ... and I found
illumination.</p>

<p>The Go language feels like a dynamic language, but it is compiled. I
always wondered how it could implement duck typing, and I <a href="http://research.swtch.com/interfaces">found
out</a>. I also realized that the difference between a virtual machine
with a JIT compiler, and a runtime for a compiled language that included
a compiler was very narrow. Basically, nothing prevents any language
from being compiled instead of being JIT compiled. You just have to
include a compiler in the standard library.</p>

<p>Ironically, that what Common Lisp is doing.</p>

<h2>A new language</h2>

<p>I like how Go implements interfaces, and I want to do the same. In this
new language, an object is composed of :</p>

<ul>
<li>an opaque work (pointer sized)</li>
<li>a pointer to an interface</li>
</ul>


<p>An interface is a collection of pointers to functions. There is always a
pointer for the fallback implementation and a pointer for the case
operation (to case an object to a new interface).</p>

<p>I want to use a smalltalk/Io type syntax. So the following will
represent an object with one variable and one slot:</p>

<pre><code> obj := {&#x000A;   var := obj slot;&#x000A;   slot &lt;- { ... };&#x000A; }&#x000A;</code></pre>

<p>The data word of obj would be a pointer to a struct containing the
variable "var"
The interface of obj would be:</p>

<ul>
<li>a function pointer for the fallback implementation that throws an error</li>
<li>a function pointer for the "cast" operation</li>
<li>a function pointer for the "slot" slot</li>
</ul>


<p>I haven't figured out yet how to pass parameters to functions and return
objects. This kind of things will require to comply to predefined
interfaces (we need a way to tell which object type is returned by a
slot for example). Interfaces would probably be defined at compile time
and available as constants in code at run time (to be given as parameter
to the cast slot).</p>

<p>If I want to be able to compile on the fly the code, I need to include
the LLVM library. So I need to implement the language in a language that
is compiled using LLVM (so bootstraping will be easier).</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/06/28/lysaac_on_en_parle_pas_mais_ca_avance/index.html">Lysaac: on en parle pas mais ça avance</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 28 Jun 2011,</span>
    <span class='time'>12:51 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../fr/index.html">fr</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../misc/index.html">misc</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p><a href="https://github.com/mildred/Lysaac">Lysaac</a> c'est ma réimplémentation du compilateur
<a href="http://lisaac-users.org">lisaac</a>. Jusqu'a présent, il n'y avait pas grand
chose, mais dernièrement, il y a eu des commits intéressants:</p>

<ul>
<li>les variables fonctionnent

<ul>
<li>avec des valeurs par défaut</li>
<li>on peut les lire</li>
<li>et y écrire</li>
</ul>
</li>
<li>on a aussi des BLOCKs, mais sans upvalues</li>
</ul>


<p>Ça ne paye peut être pas de mine, mais en fait, l'infrastructure du compilo est
presque complète.</p>

<p>Prochaines avancées: héritage et affichage des erreurs</p>

<p>Et peut être après: des améliorations de syntaxe (appels de slot à paramètres et
bien plus tard: opérateurs). Pour le moment, je me concentre sur les choses
basiques.</p>

<p>Si vous voulez jouer, vous pouvez. Si vous avez une erreur inattendue, créez un
scénario d'utilisation et donnez le moi (préférablement sous forme de
<a href="https://github.com/mildred/Lysaac/blob/master/features/type/struct.feature">fichier <code>.feature</code></a>).</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/06/28/lysaac_not_talking_about_it_but_goes_forward/index.html">Lysaac: not talking about it but it goes forward</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 28 Jun 2011,</span>
    <span class='time'>12:51 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../misc/index.html">misc</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p><a href="https://github.com/mildred/Lysaac">Lysaac</a> is my reimplementation of the <a href="http://lisaac-users.org">lisaac</a>
compiler. Until now, it wasn't very interesting to look at, but recently, I
pushed a few interesting commits:</p>

<ul>
<li>you now have variables

<ul>
<li>the default value is initialized correctly</li>
<li>the read works</li>
<li>the write works</li>
</ul>
</li>
<li>you also have BLOCKs (sorry, no upvalues for now)</li>
</ul>


<p>This may looks like nothing, but under the hood, the infrastructure is almost
completely there.</p>

<p>Next thing to come: inheritance and error reporting.</p>

<p>Then perhaps, syntax improvements like keyword messages and later: operators.
For now, I want the basic functionnality working well.</p>

<p>If you want to play with it, you can. If you get an error, create a use-case and
propose it as a new feature. Please use as a model <a href="https://github.com/mildred/Lysaac/blob/master/features/type/struct.feature">the <code>.feature</code> files</a>.</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/05/02/lysaac_now_compiles_hello_world/index.html">Lysaac now compiles Hello World!</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Mon 02 May 2011,</span>
    <span class='time'>12:04 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>This is great: Here is the source files:</p>

<p><code>c/cstring.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Reference CSTRING;&#x000A;&#x000A;  - role := String; // const char*&#x000A;  - type := Integer 8;&#x000A;</code></pre>

<p><code>c/main.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := MAIN;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - puts str:CSTRING &lt;- External `puts`;&#x000A;&#x000A;  - main &lt;-&#x000A;  (&#x000A;    puts "Hello World";&#x000A;  );&#x000A;</code></pre>

<p>You type <code>lysaac compile c &gt;c.bc</code> and you get the following LLVM assembly code:</p>

<p><code>c.bc</code></p>

<pre><code>@0 = private constant [12 x i8] c"Hello World\00"&#x000A;&#x000A;&#x000A;declare void @puts (i8*)&#x000A;&#x000A;define void @main () {&#x000A;  %1 = getelementptr [12 x i8]* @0, i32 0, i32 0&#x000A;  tail call void @puts(i8* %1)&#x000A;  ret void&#x000A;}&#x000A;</code></pre>

<p>And you can execute it using the standard LLVM tools:</p>

<pre><code>$ llvm-as &lt; c.bc | lli&#x000A;Hello World&#x000A;$&#x000A;</code></pre>

<p>Isn't that great ?</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/29/union_types_and_null/index.html">Union types and null</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Fri 29 Apr 2011,</span>
    <span class='time'>09:56 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>Look at this:</p>

<p><code>object.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Singleton NULL;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - is_null :BOOLEAN &lt;- FALSE;&#x000A;</code></pre>

<p><code>null.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Singleton NULL;&#x000A;&#x000A;Section Inherit&#x000A;&#x000A;  - parent :OBJECT := OBJECT;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - is_null :BOOLEAN &lt;- TRUE;&#x000A;</code></pre>

<p><code>union.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := UNION;&#x000A;&#x000A;Section Inherit&#x000A;&#x000A;  - parent :OBJECT := OBJECT;&#x000A;</code></pre>

<p><code>union.1.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Expanded UNION(E);&#x000A;&#x000A;  - import := E;&#x000A;&#x000A;Section Inherit&#x000A;&#x000A;  - parent :UNION := UNION;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  + element:E;&#x000A;  - set_element e:E &lt;- (element := e;);&#x000A;&#x000A;  - when o:T do blc:{o:T;} &lt;-&#x000A;  (&#x000A;    (o = E).if {&#x000A;      blc.value element;&#x000A;    };&#x000A;  );&#x000A;&#x000A;  - from_e e:E :SELF &lt;-&#x000A;  ( + res :SELF;&#x000A;    res := clone;&#x000A;    res.set_element e;&#x000A;    res&#x000A;  );&#x000A;</code></pre>

<p><code>union.2.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Expanded UNION(E, F...);&#x000A;&#x000A;Section Inherit&#x000A;&#x000A;  + parent_e :UNION(E);&#x000A;  + parent_next :UNION(F...);&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - when o:T do blc:{o:T;} &lt;-&#x000A;  (&#x000A;    (o = E).if {&#x000A;      parent_e.when o do blc;&#x000A;    } else {&#x000A;      parent_next.when o do blc;&#x000A;    };&#x000A;  );&#x000A;</code></pre>

<p><code>use.li</code></p>

<pre><code>Section Header&#x000A;&#x000A;  + name := USE;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - accept_object_or_null obj:UNION(USE,NULL) &lt;-&#x000A;  (&#x000A;    obj&#x000A;    .when NULL do { o:NULL;&#x000A;      ? { o.is_null };&#x000A;    }&#x000A;    .when USE do { o:USE;&#x000A;      ? { o.is_null.not };&#x000A;    };&#x000A;  );&#x000A;</code></pre>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/29/stack_environments/index.html">Stack environments</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Fri 29 Apr 2011,</span>
    <span class='time'>09:52 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>Stack environment would be an argument passed implicitely to every function in
the code. It would contain global policy. In particular the <code>MEMORY</code> object that
lets you allocate memory. If you want to change the allocation policy, you just
have to change the current environment, and all functions you call will use the
new policy.</p>

<p>We could allow user defined objects like that, not just system objects.</p>

<p>We could also manage errors that way. An error flag could be stored in the
environment. Set by the calee and tested by the caller.</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/29/lysaac_annotations/index.html">Lysaac annotations</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Fri 29 Apr 2011,</span>
    <span class='time'>09:40 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>Because I'm using an open world assumption, I need the compiler to generate
annotations on units it compiles, so when it sees them again, it knows what it
does (or does not) internally.</p>

<p>I was looking at <a href="http://www.youtube.com/watch?v=ryfw9_-Hnb0">a LLVM video</a> this morning (VMKit precisely) and the
person talked about an interesting optimization. What if we could allocate
objects in stack instead of the heap. This would save time when creating the
object. Then we wouldn't be tempted to avoid creating new objects for fear of
memory leaks (there is not garbage collector in lisaac currently) and
performance penalty.</p>

<p>This is the same thing as aliased variables in Ada.</p>

<p>An object can be allocated on the stack if:</p>

<ul>
<li>it is not returned by the function.</li>
<li>it is not stored on the heap by the function.</li>
<li>it is not used in a called function that would store a pointer to this
object on the heap.</li>
</ul>


<p>So, when the compiler compiles a cluster, it has to generate an annotation file
containing for each argument in each code slot whether the argument is
guaranteed to remain on the stack or if it might be stored on the heap. If an
argument is guaranteed to stay on the stack, we can allocate it on the stack.
When the function will return, the only instances would be located in the
current stack frame.</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/29/lysaac_compilation_model_and_inline_prototypes/index.html">Lysaac compilation model and inline prototypes</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Fri 29 Apr 2011,</span>
    <span class='time'>09:19 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>In Lysaac, I choose to follow the open world assumption, like the majority of
programming languages out there, instead of the closed world assumption. There
are two main reasons:</p>

<ul>
<li><p>First, I don't strive at creating an optimizing compiler, not yet at least.
Closed world is useful for that, but I don't need it.</p></li>
<li><p>Second, open world assumption increases the complexity a lot. The Lisaac
compiler uses an exponential algorithm, and will always hit a limit with
big projects. With an open world, you can partition the complexity.</p></li>
</ul>


<p>Because I still believe in global compilation, I decided that my compilation
unit would be the cluster instead of the prototype. That is, I'll compile a
cluster completely in one object file. That makes it possible to optimize things
like private prototypes.</p>

<p>This leaves a big performance problem for <code>BOOLEAN</code>s in particular. <code>BOOLEAN</code>,
<code>TRUE</code> and <code>FALSE</code> are prototypes in the standard library, and having an open
world assumption would require pasing to the <code>if then</code> slot function pointers.
I can't realisticly do that.</p>

<p>So, These prototypes could be marked as <code>Inline</code>. They are separated from their
cluster and gets compiled in every cluster that uses them. The syntax could be
quite simple:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Inline TRUE;&#x000A;</code></pre>

<p>But, because each cluster is then free to compile it as it wants, there is a
problem of interoperability. How can you be sure that the <code>TRUE</code> in your cluster
is compiled the same way as in the neighbooring cluster you are using. As it is,
you can't pass <code>TRUE</code> object around clusters. Very annoying.</p>

<p>The solution would be to encode them and decode them manually. You could have:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Inline TRUE;&#x000A;&#x000A;Section Feature&#x000A;&#x000A;  - inline_size :INTEGER := 0;&#x000A;</code></pre>

<p>Take a more interesting example:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Inline Expanded BIT;&#x000A;&#x000A;  - size := 1;&#x000A;&#x000A;Section Feature&#x000A;&#x000A;  - inline_size :INTEGER := 1;&#x000A;  - encode p:POINTER &lt;-&#x000A;  (&#x000A;    p.to_native_array_of BIT.put bit to 0;&#x000A;  );&#x000A;  - decode p:POINTER &lt;-&#x000A;  (&#x000A;    data := p.to_native_array_of BIT.item 0;&#x000A;  );&#x000A;</code></pre>

<p>This needs to be refined.</p>

<p>Additionally, <code>.cli</code> files could also contain the <code>Inline</code> keyword. In that
case, the cluster it reference will be compiled with the current cluster. That
could be useful for private clusters.</p>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/20/clusters_in_lysaac_works/index.html">Clusters in Lysaac works</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Wed 20 Apr 2011,</span>
    <span class='time'>11:17 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  

<pre>&#x000A;◆ Root Cluster&#x000A;│ Cluster in: src&#x000A;├─◆ LIB (src/lib.cli)&#x000A;│ │ Cluster in: src/../lib&#x000A;│ ├─◇ PATH_HELPER (src/../lib/path_helper.li)&#x000A;│ ├─◇ CSTRING (src/../lib/cstring.li)&#x000A;│ ╰─◇ LIBC (src/../lib/libc.li)&#x000A;├─◇ PARSER (src/parser.li)&#x000A;├─◆ STDLIB (src/stdlib.cli)&#x000A;│ │ Cluster in: src/../stdlib/standard&#x000A;│ ├─◆ INTERNAL (src/../stdlib/standard/internal.cli)&#x000A;│ │ │ Cluster in: src/../stdlib/standard/../internal&#x000A;│ │ ├─◆ PORTABLE (src/../stdlib/standard/../internal/portable.cli)&#x000A;│ │ │ │ Cluster in: src/../stdlib/standard/../internal/portable&#x000A;│ │ │ ├─◇ FLOAT_REAL (src/../stdlib/standard/../internal/portable/number/float_real.li)&#x000A;│ │ │ ├─◇ FIXED_REAL (src/../stdlib/standard/../internal/portable/number/fixed_real.li)&#x000A;│ │ │ ├─◇ FLOAT_MAP80 (src/../stdlib/standard/../internal/portable/number/float_map80.li)&#x000A;│ │ │ ├─◇ SIGNED_INTEGER (src/../stdlib/standard/../internal/portable/number/signed_integer.li)&#x000A;│ │ │ ├─◇ FLOAT_MAP32 (src/../stdlib/standard/../internal/portable/number/float_map32.li)&#x000A;│ │ │ ├─◇ UNSIGNED_INTEGER (src/../stdlib/standard/../internal/portable/number/unsigned_integer.li)&#x000A;│ │ │ ├─◇ FLOAT_MAP64 (src/../stdlib/standard/../internal/portable/number/float_map64.li)&#x000A;│ │ │ ├─◇ SIGNED_FIXED_REAL (src/../stdlib/standard/../internal/portable/number/signed_fixed_real.li)&#x000A;│ │ │ ├─◇ NUMERIC (src/../stdlib/standard/../internal/portable/number/numeric.li)&#x000A;│ │ │ ├─◇ FLOAT_MAP (src/../stdlib/standard/../internal/portable/number/float_map.li)&#x000A;│ │ │ ├─◇ UNSIGNED_FIXED_REAL (src/../stdlib/standard/../internal/portable/number/unsigned_fixed_real.li)&#x000A;│ │ │ ├─◇ FILE_INPUT_STREAM (src/../stdlib/standard/../internal/portable/io/file_input_stream.li)&#x000A;│ │ │ ├─◇ STD_INPUT_OUTPUT (src/../stdlib/standard/../internal/portable/io/std_input_output.li)&#x000A;│ │ │ ├─◇ FILE_OUTPUT_STREAM (src/../stdlib/standard/../internal/portable/io/file_output_stream.li)&#x000A;│ │ │ ├─◇ INPUT_STREAM (src/../stdlib/standard/../internal/portable/io/input_stream.li)&#x000A;│ │ │ ├─◇ OUTPUT_STREAM (src/../stdlib/standard/../internal/portable/io/output_stream.li)&#x000A;│ │ │ ├─◇ MEMORY (src/../stdlib/standard/../internal/portable/memory/memory.li)&#x000A;│ │ │ ├─◇ SYSTEM_DETECT (src/../stdlib/standard/../internal/portable/system/system_detect.li)&#x000A;│ │ │ ├─◇ HASHED_DICTIONARY_NODE (src/../stdlib/standard/../internal/portable/collection/hashed_dictionary_node.li)&#x000A;│ │ │ ├─◇ COLLECTION (src/../stdlib/standard/../internal/portable/collection/collection.li)&#x000A;│ │ │ ├─◇ HASH_TABLE_SIZE (src/../stdlib/standard/../internal/portable/collection/hash_table_size.li)&#x000A;│ │ │ ├─◇ ANY_HASHED_BIJECTIVE_DICTIONARY_NODE (src/../stdlib/standard/../internal/portable/collection/any_hashed_bijective_dictionary_node.li)&#x000A;│ │ │ ├─◇ ANY_LINKED_LIST_NODE (src/../stdlib/standard/../internal/portable/collection/any_linked_list_node.li)&#x000A;│ │ │ ├─◇ ANY_AVL_SET_NODE (src/../stdlib/standard/../internal/portable/collection/any_avl_set_node.li)&#x000A;│ │ │ ├─◇ LINKED2_LIST_NODE (src/../stdlib/standard/../internal/portable/collection/linked2_list_node.li)&#x000A;│ │ │ ├─◇ ANY_AVL_DICTIONARY_NODE (src/../stdlib/standard/../internal/portable/collection/any_avl_dictionary_node.li)&#x000A;│ │ │ ├─◇ COLLECTION3 (src/../stdlib/standard/../internal/portable/collection/collection3.li)&#x000A;│ │ │ ├─◇ SET (src/../stdlib/standard/../internal/portable/collection/set.li)&#x000A;│ │ │ ├─◇ ANY_TWO_WAY_LINKED_LIST_NODE (src/../stdlib/standard/../internal/portable/collection/any_two_way_linked_list_node.li)&#x000A;│ │ │ ├─◇ HASHED_SET_NODE (src/../stdlib/standard/../internal/portable/collection/hashed_set_node.li)&#x000A;│ │ │ ├─◇ ARRAYED_COLLECTION (src/../stdlib/standard/../internal/portable/collection/arrayed_collection.li)&#x000A;│ │ │ ├─◇ SIMPLE_DICTIONARY (src/../stdlib/standard/../internal/portable/collection/simple_dictionary.li)&#x000A;│ │ │ ├─◇ DICTIONARY (src/../stdlib/standard/../internal/portable/collection/dictionary.li)&#x000A;│ │ │ ├─◇ AVL_DICTIONARY_NODE (src/../stdlib/standard/../internal/portable/collection/avl_dictionary_node.li)&#x000A;│ │ │ ├─◇ AVL_CONSTANTS (src/../stdlib/standard/../internal/portable/collection/avl_constants.li)&#x000A;│ │ │ ├─◇ ANY_HASHED_SET_NODE (src/../stdlib/standard/../internal/portable/collection/any_hashed_set_node.li)&#x000A;│ │ │ ├─◇ NATIVE_ARRAY (src/../stdlib/standard/../internal/portable/collection/native_array.li)&#x000A;│ │ │ ├─◇ AVL_TREE (src/../stdlib/standard/../internal/portable/collection/avl_tree.li)&#x000A;│ │ │ ├─◇ NATIVE_ARRAY_VOLATILE (src/../stdlib/standard/../internal/portable/collection/native_array_volatile.li)&#x000A;│ │ │ ├─◇ COLLECTION2 (src/../stdlib/standard/../internal/portable/collection/collection2.li)&#x000A;│ │ │ ├─◇ ANY_HASHED_DICTIONARY_NODE (src/../stdlib/standard/../internal/portable/collection/any_hashed_dictionary_node.li)&#x000A;│ │ │ ├─◇ ARRAYED (src/../stdlib/standard/../internal/portable/collection/arrayed.li)&#x000A;│ │ │ ├─◇ AVL_SET_NODE (src/../stdlib/standard/../internal/portable/collection/avl_set_node.li)&#x000A;│ │ │ ├─◇ LINKED_XOR_NODE (src/../stdlib/standard/../internal/portable/collection/linked_xor_node.li)&#x000A;│ │ │ ├─◇ LINKED_LIST_NODE (src/../stdlib/standard/../internal/portable/collection/linked_list_node.li)&#x000A;│ │ │ ├─◇ AVL_TREE_NODE (src/../stdlib/standard/../internal/portable/collection/avl_tree_node.li)&#x000A;│ │ │ ├─◇ LINKED_COLLECTION (src/../stdlib/standard/../internal/portable/collection/linked_collection.li)&#x000A;│ │ │ ├─◇ FS_MIN (src/../stdlib/standard/../internal/portable/file_system/fs_min.li)&#x000A;│ │ │ ├─◇ STRING_BUFFER (src/../stdlib/standard/../internal/portable/string/string_buffer.li)&#x000A;│ │ │ ╰─◇ CHARACTER_REF (src/../stdlib/standard/../internal/portable/string/character_ref.li)&#x000A;│ │ ╰─◆ UNIX (src/../stdlib/standard/../internal/unix.cli)&#x000A;│ │   │ Cluster in: src/../stdlib/standard/../internal/os_support/unix&#x000A;│ │   ├─◇ FLOAT_PROCESSOR (src/../stdlib/standard/../internal/os_support/unix/system/float_processor.li)&#x000A;│ │   ├─◇ SYSTEM (src/../stdlib/standard/../internal/os_support/unix/system/system.li)&#x000A;│ │   ├─◇ CLOCK (src/../stdlib/standard/../internal/os_support/unix/system/clock.li)&#x000A;│ │   ├─◇ ENVIRONMENT (src/../stdlib/standard/../internal/os_support/unix/system/environment.li)&#x000A;│ │   ├─◇ SYSTEM_IO (src/../stdlib/standard/../internal/os_support/unix/system/system_io.li)&#x000A;│ │   ├─◇ PROCESSOR (src/../stdlib/standard/../internal/os_support/unix/system/processor.li)&#x000A;│ │   ├─◇ EVENT_SYSTEM (src/../stdlib/standard/../internal/os_support/unix/video/event_system.li)&#x000A;│ │   ├─◇ KEYBOARD (src/../stdlib/standard/../internal/os_support/unix/video/keyboard.li)&#x000A;│ │   ├─◇ TIMER (src/../stdlib/standard/../internal/os_support/unix/video/timer.li)&#x000A;│ │   ├─◇ VIDEO (src/../stdlib/standard/../internal/os_support/unix/video/video.li)&#x000A;│ │   ├─◇ MOUSE (src/../stdlib/standard/../internal/os_support/unix/video/mouse.li)&#x000A;│ │   ├─◇ FILE_UNIX (src/../stdlib/standard/../internal/os_support/unix/file_system/file_unix.li)&#x000A;│ │   ├─◇ FILE_SYSTEM (src/../stdlib/standard/../internal/os_support/unix/file_system/file_system.li)&#x000A;│ │   ├─◇ ENTRY_UNIX (src/../stdlib/standard/../internal/os_support/unix/file_system/entry_unix.li)&#x000A;│ │   ├─◇ DIRECTORY_UNIX (src/../stdlib/standard/../internal/os_support/unix/file_system/directory_unix.li)&#x000A;│ │   ├─◇ BMP_LINE_ASCII (src/../stdlib/standard/../internal/os_support/unix/video_ascii/bmp_line_ascii.li)&#x000A;│ │   ├─◇ BITMAP_ASCII (src/../stdlib/standard/../internal/os_support/unix/video_ascii/bitmap_ascii.li)&#x000A;│ │   ├─◇ VIDEO (src/../stdlib/standard/../internal/os_support/unix/video_ascii/video.li)&#x000A;│ │   ╰─◇ PIXEL_ASCII (src/../stdlib/standard/../internal/os_support/unix/video_ascii/pixel_ascii.li)&#x000A;│ ├─◇ STD_ERROR (src/../stdlib/standard/io/std_error.li)&#x000A;│ ├─◇ COMMAND_LINE (src/../stdlib/standard/io/command_line.li)&#x000A;│ ├─◇ IO (src/../stdlib/standard/io/io.li)&#x000A;│ ├─◇ STD_INPUT (src/../stdlib/standard/io/std_input.li)&#x000A;│ ├─◇ STD_OUTPUT (src/../stdlib/standard/io/std_output.li)&#x000A;│ ├─◇ TIME (src/../stdlib/standard/time/time.li)&#x000A;│ ├─◇ DATE (src/../stdlib/standard/time/date.li)&#x000A;│ ├─◇ HASHABLE (src/../stdlib/standard/property/hashable.li)&#x000A;│ ├─◇ COMPARABLE (src/../stdlib/standard/property/comparable.li)&#x000A;│ ├─◇ SAFE_EQUAL (src/../stdlib/standard/property/safe_equal.li)&#x000A;│ ├─◇ TRAVERSABLE (src/../stdlib/standard/property/traversable.li)&#x000A;│ ├─◇ OBJECT (src/../stdlib/standard/kernel/object.li)&#x000A;│ ├─◇ I_DONT_KNOW_PROTOTYPING (src/../stdlib/standard/kernel/i_dont_know_prototyping.li)&#x000A;│ ├─◇ POINTER (src/../stdlib/standard/kernel/pointer.li)&#x000A;│ ├─◇ CONVERT (src/../stdlib/standard/kernel/convert.li)&#x000A;│ ├─◇ REFERENCE (src/../stdlib/standard/kernel/reference.li)&#x000A;│ ├─◇ BLOCK (src/../stdlib/standard/kernel/block.li)&#x000A;│ ├─◇ HASHED_DICTIONARY (src/../stdlib/standard/collection/hashed_dictionary.li)&#x000A;│ ├─◇ ARRAY2 (src/../stdlib/standard/collection/array2.li)&#x000A;│ ├─◇ AVL_SET (src/../stdlib/standard/collection/avl_set.li)&#x000A;│ ├─◇ LINKED2_LIST (src/../stdlib/standard/collection/linked2_list.li)&#x000A;│ ├─◇ ARRAY3 (src/../stdlib/standard/collection/array3.li)&#x000A;│ ├─◇ ARRAY (src/../stdlib/standard/collection/array.li)&#x000A;│ ├─◇ ITERATOR (src/../stdlib/standard/collection/iterator.li)&#x000A;│ ├─◇ FAST_ARRAY3 (src/../stdlib/standard/collection/fast_array3.li)&#x000A;│ ├─◇ LINKED_XOR_LIST (src/../stdlib/standard/collection/linked_xor_list.li)&#x000A;│ ├─◇ LINKED_LIST (src/../stdlib/standard/collection/linked_list.li)&#x000A;│ ├─◇ HASHED_SET (src/../stdlib/standard/collection/hashed_set.li)&#x000A;│ ├─◇ FAST_ARRAY2 (src/../stdlib/standard/collection/fast_array2.li)&#x000A;│ ├─◇ FAST_ARRAY (src/../stdlib/standard/collection/fast_array.li)&#x000A;│ ├─◇ AVL_DICTIONARY (src/../stdlib/standard/collection/avl_dictionary.li)&#x000A;│ ├─◇ STD_FILE (src/../stdlib/standard/file_system/std_file.li)&#x000A;│ ├─◇ DIRECTORY (src/../stdlib/standard/file_system/directory.li)&#x000A;│ ├─◇ ENTRY (src/../stdlib/standard/file_system/entry.li)&#x000A;│ ├─◇ FILE (src/../stdlib/standard/file_system/file.li)&#x000A;│ ├─◇ HTTP_SERVER (src/../stdlib/standard/http/http_server.li)&#x000A;│ ├─◇ HTTP_HEADER (src/../stdlib/standard/http/http_header.li)&#x000A;│ ├─◇ FALSE (src/../stdlib/standard/boolean/false.li)&#x000A;│ ├─◇ BOOLEAN (src/../stdlib/standard/boolean/boolean.li)&#x000A;│ ├─◇ TRUE (src/../stdlib/standard/boolean/true.li)&#x000A;│ ├─◇ STRING_CONSTANT (src/../stdlib/standard/string/string_constant.li)&#x000A;│ ├─◇ STRING (src/../stdlib/standard/string/string.li)&#x000A;│ ├─◇ ABSTRACT_STRING (src/../stdlib/standard/string/abstract_string.li)&#x000A;│ ╰─◇ CHARACTER (src/../stdlib/standard/string/character.li)&#x000A;├─◇ CLUSTER_ITEM (src/cluster_item.li)&#x000A;├─◇ ITM_STYLE (src/itm_style.li)&#x000A;├─◇ LYSAAC (src/lysaac.li)&#x000A;├─◇ ITM_AFFECT (src/itm_affect.li)&#x000A;├─◇ ANY (src/any.li)&#x000A;├─◇ PARSER_CLI (src/parser_cli.li)&#x000A;╰─◇ CLUSTER (src/cluster.li)</pre>
</div></div>
          <div class="clear"></div>
        </div>
        <div class="sub-article">
          <h2>
            <a class="permalink" href="../../Blog/2011/04/12/lysaac_and_clusters/index.html">Lysaac and clusters</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 12 Apr 2011,</span>
    <span class='time'>04:35 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class="tag" href="../comp/index.html">comp</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../dev/index.html">dev</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../en/index.html">en</a>
    </span>
    <span class='tag'>
      <a class="tag" href="../lisaac/index.html">lisaac</a>
    </span>
    <span class='tag'>
      <a class="tag" href="index.html">lysaac</a>
    </span>
  </span>
</p>
<div class="excerpt">
  <p>If you noticed, I started my own Lisaac compiler, called <a href="http://github.com/mildred/lysaac">Lysaac</a> and I want
to make it a little bit different from Lisaac. I'll try to keep compatibility,
but for few things, I might take a different direction.</p>

<p>One of these things is the way prototypes are found.</p>

<p>In Lisaac, you have a complete set of prototypes and when you look for a
prototype, it is looked everywhere. This is not desirable. Imagine you are
writing a library that requires the prototype <code>FOO</code>. Currently, if <code>FOO</code> is not
present in the library, instead of issuing an error, the compiler would take the
<code>FOO</code> prototype in the application that use the library. Meaning that the
library is effectvely using a pieve of the application code.</p>

<p>I want to take the SmartEiffel approach and separate the source code in few
clusters. A cluster is a collection of prototypes. And the prototypes in a
cluster can only use the prototype of the same cluster or the prototypes of
imported clusters. This solve the above dependancy problem.</p>

<p>A cluster is a directory that contain prototypes in <code>.li</code> files and
subdirectories. If a subdirectory do not contain <code>.li</code> files, the
sub-subdirectories are not recursively searched. A cluster can import another
cluster using a cluster file ending with <code>.cli</code>.</p>

<p>An example of <code>.cli</code> file is as follows:</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Cluster LIBFOO;&#x000A;&#x000A;  - path := ("libfoo-3.14", "../libfoo");&#x000A;</code></pre>

<p>The search paths can be:</p>

<ul>
<li>relative to the <code>.cli</code> file if it starts with <code>.</code></li>
<li>relative to <code>LYSAAC_PATH</code> directories otherwise</li>
</ul>


<p><code>LISAAC_PATH</code> defaults to <code>$XDG_DATA_HOME/lysaac/lib:/usr/local/share/lysaac/lib:/usr/share/lysaac/lib</code>.</p>

<p>The search paths would then be for this example:</p>

<ul>
<li><code>$XDG_DATA_HOME/lysaac/lib/libfoo-3.14</code></li>
<li><code>/usr/local/share/lysaac/lib/libfoo-3.14</code></li>
<li><code>/usr/share/lysaac/lib/libfoo-3.14</code></li>
<li><code>../libfoo</code></li>
</ul>


<p>The parser for these files is being written. Then you can see the complete
hierarchy of the project:</p>

<pre><code>$ lysaac src&#x000A;◆ Root Cluster&#x000A;│ Cluster in: src&#x000A;├─◆ LIB (src/lib.cli)&#x000A;│ │ Cluster in: lib&#x000A;│ ├─◆ STDLIB (lib/stdlib.cli)&#x000A;│ │ │ Cluster in: /home/mildred/.local/share/lysaac/lib/stdlib&#x000A;│ │ ├─◇ STRING (...)&#x000A;│ │ ├─◇ ABSTRACT_STRING (...)&#x000A;│ │ ╰─◇ ...&#x000A;│ ├─◇ LIBC (lib/libc.li)&#x000A;│ ╰─◇ CSTRING (lib/cstring.li)&#x000A;├─◇ PARSER (src/parser.li)&#x000A;├─◇ CLUSTER_ITEM (src/cluster_item.li)&#x000A;├─◇ ITM_STYLE (src/itm_style.li)&#x000A;├─◇ LYSAAC (src/lysaac.li)&#x000A;├─◇ ITM_AFFECT (src/itm_affect.li)&#x000A;├─◇ ANY (src/any.li)&#x000A;├─◇ PARSER_CLI (src/parser_cli.li)&#x000A;╰─◇ CLUSTER (src/cluster.li)&#x000A;</code></pre>

<p>Now, each item in a cluster can be public or private. Public items are available
to the users of the clusters whereas private items are restricted to members of
the same cluster. To declare a private item, just say:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Private PROTOTYPE;&#x000A;</code></pre>

<p>or</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Private Cluster LIBTOTO;&#x000A;</code></pre>

<p>If you want to declare a whole bunch of prototypes private to your cluster, just
include them in a private cluster. To do so, you'll need the following files:</p>

<ul>
<li><p>cluster/my_private_prototypes.cli:</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Private Cluster MY_PRIVATE_PROTOTYPES;&#x000A;&#x000A;  - path := "./deps/my_private_prototypes";&#x000A;  // makes the cluster relative to the .cli file&#x000A;  // use a deps additional directory to avoid the current cluster to&#x000A;  // look into deps/my_private_prototypes. deps should not contain any&#x000A;  // files, just subdirectories.&#x000A;</code></pre></li>
<li><p>cluster/deps/my_private_prototypes/private_proto.li:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Public Prototype PRIVATE_PROTO;&#x000A;</code></pre></li>
</ul>
</div></div>
          <div class="clear"></div>
        </div>
      </div>
      <div class="page-list">
        <strong>Page:</strong>
        <ul class='page-list'>
          <li>
            <a href="index.html">1</a>
          </li>
          <li>
            <strong>latest</strong>
          </li>
        </ul>
      </div>
      <div class="clear"></div>
    </div>
    <div class="clear"></div>
    <div class="footer">
      <hr/>
      <p>E-mail:
        <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#68;&#37;&#55;&#48;&#37;&#55;&#53;&#37;&#54;&#50;&#37;&#50;&#68;&#37;&#51;&#49;&#37;&#52;&#48;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#69;&#37;&#54;&#54;&#37;&#55;&#50;">&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#45;&#112;&#117;&#98;&#45;&#49;&#64;&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#46;&#102;&#114;</a>
      </p>
      <p>Mildred's Website: <a href="http://mildred.fr">http://mildred.fr</a>.
      I try to have <a href="http://www.w3.org/Provider/Style/URI">cools URI that don't change</a>.</p>
    </div>
  </body>
</html>
