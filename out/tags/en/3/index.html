<!DOCTYPE html>
<html>
  <head>
    <title>Category: en - Mildred's Website</title>
    <meta charset='utf-8'>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta content='' name='keywords'>
    <meta content='' name='description'>
    <meta content='initial-scale=1.0, width=device-width' name='viewport'>
    <meta content='tag' name='x-kind'>
    <link href='http://mildred.fr/tags/en/3/' rel='canonical'>
    <link href='../../../favicon.png' rel='icon' type='image/png'>
    <link href='../../../favicon.png' rel='shortcut icon' type='image/png'>
    <link href='../../../style.css' media='screen' rel='stylesheet' type='text/css'>
    <link href='../atom.xml' rel='alternate' title='ATOM Feed' type='application/atom+xml'>
    <link href='../rss.xml' rel='alternate' title='RSS Feed' type='application/rss+xml'>
    <script src='../../../Scripts/json/json2.js' type='text/javascript'></script>
    <script src='../../../Scripts/jquery.min.js' type='text/javascript'></script>
    <script src='../../../Scripts/comments.js' type='text/javascript'></script>
    <script src='../../../Scripts/local.js' type='text/javascript'></script>
  </head>
  <body>
    <div class="header">
      <p class="access-links">
        <a href="#menu">Go to Menu</a>
        <br>
        <a href="#content">Go to Content</a>
      </p>
      <div class="left">
        <a href="../../../">
          <img alt="My photo" class="photo" src="../../../Images/IMG_5669_square_128.jpeg">
        </a>
      </div>
      <div class="title">
        <h1>
          <a href="../../../">Mildred's Website</a>
        </h1>
      </div>
      <div class="float-right"></div>
      <div class="clear-right"></div>
      <div class="right">
        <strong>Tags:</strong>
        <ul class="tags">
          <li>
            <a class="tag" href="../../cobra/">cobra</a>
          </li>
          <li>
            <a class="tag" href="../../comp/">comp</a>
          </li>
          <li>
            <a class="tag" href="../../configuration/">configuration</a>
          </li>
          <li>
            <a class="tag" href="../../dev/">dev</a>
          </li>
          <li>
            <a class="tag" href="../../dream/">dream</a>
          </li>
          <li>
            <a class="tag" href="../">en</a>
          </li>
          <li>
            <a class="tag" href="../../fedora/">fedora</a>
          </li>
          <li>
            <a class="tag" href="../../fr/">fr</a>
          </li>
          <li>
            <a class="tag" href="../../freedombox/">freedombox</a>
          </li>
          <li>
            <a class="tag" href="../../git/">git</a>
          </li>
          <li>
            <a class="tag" href="../../html/">html</a>
          </li>
          <li>
            <a class="tag" href="../../idea/">idea</a>
          </li>
          <li>
            <a class="tag" href="../../liens/">liens</a>
          </li>
          <li>
            <a class="tag" href="../../lisaac/">lisaac</a>
          </li>
          <li>
            <a class="tag" href="../../lysaac/">lysaac</a>
          </li>
          <li>
            <a class="tag" href="../../misc/">misc</a>
          </li>
          <li>
            <a class="tag" href="../../photos/">photos</a>
          </li>
          <li>
            <a class="tag" href="../../physics/">physics</a>
          </li>
          <li>
            <a class="tag" href="../../politique/">politique</a>
          </li>
          <li>
            <a class="tag" href="../../privacy/">privacy</a>
          </li>
          <li>
            <a class="tag" href="../../srs/">srs</a>
          </li>
          <li>
            <a class="tag" href="../../test/">test</a>
          </li>
          <li>
            <a class="tag" href="../../web/">web</a>
          </li>
          <li>
            <a class="tag" href="../../website/">website</a>
          </li>
          <li>
            <a class="tag" href="../../wwwgen/">wwwgen</a>
          </li>
          <li>
            <a class="tag" href="../../wwwsupport/">wwwsupport</a>
          </li>
        </ul>
      </div>
      <div class="content">
        <div class="links" id="menu">
          <ul>
            <li>
              <a href="../../../">Home</a>
            </li>
            <li>
              <a href="../../../Blog/">Blog</a>
            </li>
            <li>
              <a href="//survie.mildred.fr">Survie</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <div class="leftcol">
      <img alt="My avatar" class="photo" src="../../../Images/all128.jpeg">
      <hr>
      <p>GoogleTalk, Jabber, XMPP address:
      <br /><strong><a href="xmpp:mildred&#64;jabber.fr">mildred&#64;jabber.fr</a></strong><!--&nbsp;<img src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/image-dcraven.png" alt="" /><br /><em><script type="text/javascript" src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/message_js.js"></script></em>-->
      </p>
      <hr>
      <p>
        <a href="../../../gpg_key.txt">GPG Public Key</a>
        <br>
        <span style="font-size: 0.8em">
          (Fingerprint 197C A7E6 645B 4299 6D37 684B 6F9D A8D6 9A7D 2E2B)
        </span>
      </p>
    </div>
    <div class='main' id='content'>
      <h1>Category: en</h1>
      <p>Articles from 21 to 30</p>
      <div class='article-list'>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2010/12/03/dream/'>Dream</a>
          </h2>
          <div>
            <p class='meta'>
              <span class='date-time'>
                <span class='date'>Fri 03 Dec 2010,</span>
                <span class='time'>08:28 AM</span>
              </span>
              <span class='tags'>
                <span class='tag'>
                  <a class='tag' href='../../dream/'>dream</a>
                </span>
                <span class='tag'>
                  <a class='tag' href='../'>en</a>
                </span>
              </span>
            </p>
            <div class='excerpt'>
              <p>I made a strange dream ... of another dream. When I woke up in the first dream I wanted to create a Scratchpad to write the second dream on. Here is it:</p>
              
              <p>Three characters: Anna from the White Ajah, Jessica from the Red and Patrul R. who was also a musician of some sort. The day before, I (Anna) said goodbye to Patrul R. He felt somethng would be happening as he gave his blessing with a long kiss. Rightly so, the next morning, Anna had a bus accident and her conciousness transferred to Jessica.</p>
            </div>
          </div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2010/12/09/censorship/'>Censorship</a>
          </h2>
          <div>
            <p class='meta'>
              <span class='date-time'>
                <span class='date'>Thu 09 Dec 2010,</span>
                <span class='time'>07:23 PM</span>
              </span>
              <span class='tags'>
                <span class='tag'>
                  <a class='tag' href='../'>en</a>
                </span>
              </span>
            </p>
            <div class='excerpt'>
              <p><a href="https://www.eff.org/pages/say-no-to-online-censorship"><img src="https://w2.eff.org/images/no_censorship_button.jpg"></a></p>
              
              <p>I might at some point make a <a href="http://wikileaks.ch/mirrors.html">mirror to Wikileaks</a></p>
            </div>
          </div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/01/26/how-i-would-want-blocks-in-lisaac/'>How I Would Want BLOCKs in Lisaac</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Wed 26 Jan 2011,</span>
    <span class='time'>10:22 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../lisaac/'>lisaac</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>Remind me to post about this again ...</p>

<p>Syntax:</p>

<pre><code>BLOCK_PROTO{IN,IN;OUT,OUT}&#x000A;</code></pre>

<p>BLOCK_PROTO.li</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := BLOCK_PROTO;&#x000A;&#x000A;  - how_to_allocate &lt;- clone;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  // Notice there is no + slots as these are generated by the compiler and&#x000A;  // accessed through internals.&#x000A;&#x000A;  - parameter i:INTEGER :E &lt;- Internal;&#x000A;&#x000A;  - upvalues :UPVALUES &lt;- Internal;&#x000A;&#x000A;  - ptr :POINTER &lt;- Internal;&#x000A;</code></pre>

<p>UPVALUES.li contains the upvalues variables that might be shared by several
BLOCKs.</p>

<p>Blocks needs to be objects in the heap to make it possible to pass them around.
Upvalues also needs to be on the heap.</p>
</div></div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/02/11/section-interface/'>Section Interface</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Fri 11 Feb 2011,</span>
    <span class='time'>06:54 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../lisaac/'>lisaac</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>I had an idea about inheritance, comming from Eiffel and my today's work in Ada
Object Oriented Programming in embedded software. I am working on a software
that is going to be embedded in an ADIRU (Air Data Inertial Reference Unit) in
the final assembly line (not on air). This software is about implementing a
protocol to let the test operator test the connections in the aircraft.</p>

<p>Embedded software means memory constraints. Basically, that means I can only
allocate new objects when the application is starting up. When the application
is running (with a scheduler), it is no longer possible to create new objects.
This is bad for me because I just want to create different objects at runtime
that have a different behaviour. The objects all have the same size in byte, the
same data. There is just a function that is inherited.</p>

<p>Next, I thought of Eiffel ...</p>

<p>And then about what is inheritance. I can think of two aspects of inheritance:</p>

<ul>
<li>Behaviour inheritance: you just want the same behaviour as your parent. This
is the <code>Section Insert</code></li>
<li>Interface inheritance: you just want the polymorphism</li>
</ul>


<p>When you think about it, the two aspects complements each other. The traditional
inheritance is just the combinaison of the two. So I thought that could be a
great idea to separate them. Bundeling them together would just help programmers
mistakenly inherit for an object, even if they obly want polymorphism or
behavior inheritance alone.</p>

<p>There is another trap: extend an object that you already inherited. You might
add some features/methods/slots that you don't necessarily want in herited
prototypes. You end up cluttering the inherited objects a lot. So I thought that
a good rule would be to forbid the inheritance from an implementation and force
inheritance from interfaces.</p>

<p><strong>And, how to do that nicely in Lisaac?</strong></p>

<p>With the new <code>Section Interface</code></p>

<p>The Section Interface would define an interface for the current prototype. It
would contain slots and their contracts that are going to be inherited. Slots
not defined here will not be available for inheritance. And if there is no
Section Interface, no inheritance will be possible.</p>

<p>In short terms, it means that if you use the Strict version of the prototype (or
if the compiler can infer you are doing so), you can use the slots in the
Section Public. Else, you are limited to the Section Interface.</p>

<p><strong>Cool things with interfaces</strong></p>

<p>Just as in eiffel, if you have two slots that conflicts when inherited like in
the following code:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := BAG(T);&#x000A;&#x000A;Section Interface&#x000A;&#x000A;  - count :INTEGER;&#x000A;  - lower :INTEGER;&#x000A;  - upper :INTEGER;&#x000A;&#x000A;  - owner :PERSON;&#x000A;</code></pre>

<!--  -->


<pre><code>Section Header&#x000A;&#x000A;  + name := SHOP;&#x000A;&#x000A;Section Inherit&#x000A;&#x000A;  - tomatos :BAG(TOMATOS);&#x000A;  - eggs    :BAG(EGGS);&#x000A;&#x000A;Section Interface&#x000A;&#x000A;  //&#x000A;  // You can rename the slots:&#x000A;  //&#x000A;&#x000A;  - tomatos_count &lt;- tomatos.count;&#x000A;  - tomatos_lower &lt;- tomatos.lower;&#x000A;  - tomatos_upper &lt;- tomatos.upper;&#x000A;&#x000A;  - eggs_count &lt;- eggs.count;&#x000A;  - eggs_lower &lt;- eggs.lower;&#x000A;  - eggs_upper &lt;- eggs.upper;&#x000A;&#x000A;  //&#x000A;  // Or reimplement them:&#x000A;  // (if there is a conflict, it should be present in the interface tell the&#x000A;  //  compiler that you thought of reimplementing it.)&#x000A;  //&#x000A;&#x000A;  - owner :PERSON;&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - owner :PERSON &lt;-&#x000A;  (&#x000A;    ? { eggs.person = tomatos.person };&#x000A;    tomatos.owner&#x000A;  );&#x000A;</code></pre>

<p>This will tell the compiler that when the SHOP transforms into a BAG(TOMATOS)
through polymorphism, it should use the <code>tomatos_count</code> instead of <code>count</code>. This
will also tell that the owner of both the tomatos and eggs is the same and
implemented in SHOP.</p>

<p><strong>How to inherit?</strong></p>

<p>For behaviour inheritance:</p>

<pre><code>Section Insert&#x000A;&#x000A;  - parent1 :Expanded P1;&#x000A;  - parent2 :P2 := P2;&#x000A;  + parent3 :Expanded P3;&#x000A;  + parent4 :P4 := P4;&#x000A;</code></pre>

<p>For interface inheritance (the two forms are equivalent)</p>

<pre><code>Section Inherit&#x000A;&#x000A;  - parent1 :Interface P1;&#x000A;  + parent2 :Interface P2;&#x000A;</code></pre>

<p>For both (if there is no default values for forms 2 and 4 the compiler should
issue a warning):</p>

<pre><code>Section Inherit&#x000A;&#x000A;  - parent1 :Expanded P1;&#x000A;  - parent2 :P2 := P2;&#x000A;  + parent3 :Expanded P3;&#x000A;  + parent4 :P4 := P4;&#x000A;</code></pre>
</div></div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/03/22/freedombox/'>Freedombox</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 22 Mar 2011,</span>
    <span class='time'>09:26 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../freedombox/'>freedombox</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>Yesterday, I realized that we all needed to protect our privacy and that we
might be facing something more than just ads. The solution, fortunately it was started: <a href="http://www.freedomboxfoundation.org/">Freedombox</a></p>

<p>There is a specific part I want to cover: protected communication channels.
Starting with E-Mails.</p>

<p>In the E-Mail world, GMail is the best, in my opinion, except that it is hoisted
on Google servers. How about having a private GMail on your freedombox ? What
are the use cases:</p>

<ul>
<li><p>We need to know which server sent the E-mail or tell the user if we can't
know. Solutions exists like <a href="http://en.wikipedia.org/wiki/DomainKeys_Identified_Mail">DKIM</a>,
<a href="http://en.wikipedia.org/wiki/DomainKeys">DomainKeys</a> or <a href="http://en.wikipedia.org/wiki/Sender_Policy_Framework">SPF</a>.
The solution liew with all of thesesolution, not merely just one.</p>

<p>What we should see is before the E-mail a little line telling something
like:</p>

<ul>
<li><p>We could not determine which server sent the E-Mail, it might be spam or
scam.</p></li>
<li><p>We could not determine which server sent the E-Mail, it appears to come
from google.com but google.com generally signs outgoing E-mails. This is
probably spam or scam.</p></li>
<li><p>The E-Mail was sent from google.com</p></li>
<li><p>The E-Mail was sent from toto31.freedombox.net and has been signed by
sender@toto31.freedombox.net.</p></li>
<li><p>The E-Mail was sent from toto31.freedombox.net and has been encrypted by
sender@toto31.freedombox.net.</p></li>
</ul>
</li>
</ul>


<p>Now, the freedombox provides many services. For example we need to have a PGP
Key server. How do we advertise that? DNS was made for that. I was thinking
specifically about <a href="http://avahi.org/">Avahi</a>, providing Multicast-DNS on the
local network. I think we need to either transform Avahi into a full DNS server
that could run on the Freedombox or have it publish records in an existing DNS
server on the box. Why? Because services are already used to publish DNS records
using Avahi.</p>

<p>We also need to have a network of Freedombox to add redundancy to our DNS
servers. That could be implemented as a second part.
It would also be good if we could have a domain like freedombox.net where all
freedombox could have a free subdomain for free. Domain names are a necessity.</p>

<p>Now, what I want to do is simple:</p>

<ul>
<li>Buy a plug computer and install Freedombox on it</li>
<li>Work on integrating a SMTP server that would

<ul>
<li>send signed E-Mails</li>
<li>receive E-Mails and filter them</li>
</ul>
</li>
<li>Integrate an IMAP server</li>
<li>Integrate a PGP Key server</li>
<li>Work on integration with DNS</li>
<li>Work on a client that would sign e-mails, send them and open the inbox on
IMAP</li>
</ul>


<p>Now, it would be freat to have in all modern browsers a <code>dns:</code> scheme which
would present all the services of a specific server. For example it could tell
you:</p>

<ul>
<li>This server provides a web server. <em>Browse</em></li>
<li>This server provides a LDAP address book. <em>Browse</em> <em>Search</em></li>
<li>This server provides an XMPP server. <em>Sign-In</em></li>
<li>This server provides a SMTP server. <em>Send E-Mail</em></li>
</ul>


<p>This would be awesome.</p>
</div></div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/03/22/update-bind-dns-from-avahi/'>How to update your Bind DNS Server from Avahi</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 22 Mar 2011,</span>
    <span class='time'>10:10 AM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../freedombox/'>freedombox</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>Attention: this post contains wrong information. What I discovered wasn't a way
tu publish services to a DNS server but publish local workstations to the DNS.</p>

<p>Following my previous post, I wondered how to update the DNS server from Avahi.
<a href="http://www.gamers-forum.com/showthread.php?t=17882">I was not alone</a>. I found a script that could be run as a cron job that
does the job. The next step is to use Avahi notifications instead of pooling
every minute.</p>

<!--

Now, the script (in PHP, better to rewrite in something sensible):

    #!/usr/bin/php

    <?php
    $avahidata = explode("\n",`avahi-browse -ptr _workstation._tcp`);

    $hosts="server localhost\nzone local\n";
    $pointers="server localhost\nzone 0.168.192.in-addr.arpa\n";

    $oldhosts="server localhost\nzone local\n";
    $oldpointers="server localhost\nzone 0.168.192.in-addr.arpa\n";

    for($i=0;$i<count($avahidata)-1;$i++){
        $hostInformation=explode(";",$avahidata[$i]);
        if($hostInformation[0] != "=") continue;

        $hostname=$hostInformation[6];
        $hostaddr=$hostInformation[7];
        $ptraddr=implode(".",array_reverse(explode(".",$hostaddr)));

        $hosts.="update add $hostname 2400 A $hostaddr\n";
        $pointers.="update add $ptraddr.in-addr.arpa 2400 PTR $hostname\n";

        $oldhosts.="update delete $hostname A\n";
        $oldpointers.="update delete $ptraddr.in-addr.arpa PTR\n";
    }

    $hosts.="send\n";
    $pointers.="send\n";

    $oldhosts.="send\n";
    $oldpointers.="send\n";

    echo `cat .dns_purge_hosts | nsupdate`;
    echo `cat .dns_purge_pointers | nsupdate`;

    echo `echo "$hosts" | nsupdate`;
    echo `echo "$pointers" | nsupdate`;

    file_put_contents(".dns_purge_hosts",$oldhosts);
    file_put_contents(".dns_purge_pointers",$oldpointers);

    ?>

And configure Bind to allow updates from localhost:

    acl lan { 192.168.0/24; 127.0.0.1; };

    options {
        directory "/var/named";
        pid-file "/var/run/named/named.pid";
        auth-nxdomain yes;
        datasize default;
        listen-on { any; };
        forward first;
        forwarders {
            8.8.8.8;
            8.8.4.4;
        };
    };

    zone "local" {
        type master;
        file "local.zone";
        check-names ignore;
        allow-transfer { lan; };
        allow-update { lan; };
    };

    zone "0.168.192.in-addr.arpa" {
        type master;
        file "0.168.192.in-addr.arpa.zone";
        check-names ignore;
        allow-transfer { lan; };
        allow-update { lan; };
    };

-->


<p>Thanks to <a href="http://gamers-forum.com/member.php?u=35088">leica</a></p>

<p>edit: probably a better solution would to still use mDNS over unicast DNS (wide
area). See a post from <a href="http://0pointer.de/blog/projects/avahi-wide-area.html">Lennart Poettering</a>.</p>
</div></div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/03/23/freedombox-connectivity/'>Freedombox Connectivity</a>
          </h2>
          <div>
                    <p class='meta'>
                      <span class='date-time'>
                        <span class='date'>Wed 23 Mar 2011,</span>
                        <span class='time'>09:21 AM</span>
                      </span>
                      <span class='tags'>
                        <span class='tag'>
                          <a class='tag' href='../../comp/'>comp</a>
                        </span>
                        <span class='tag'>
                          <a class='tag' href='../'>en</a>
                        </span>
                        <span class='tag'>
                          <a class='tag' href='../../freedombox/'>freedombox</a>
                        </span>
                      </span>
                    </p>
                    <div class='excerpt'>
                      <p>Suppose we want to have an E-Mail server on the freedombox. We need connectivity
                      for SMTP, the ability to accept inbound connections. Which is impossible behind
                      a NAT.</p>
                      
                      <p>For E-Mails we also need a MX record in the DNS ... This is a problem if the
                      network is completely hostile. In which case, the only solution is to have a
                      somewhat P2P DNS database shared on freedombox. Access would then not be
                      possible from the Internet.</p>
                      
                      <p>Now, more likely, we are only going to have access to a dynamix DNS, which is
                      fine. The DNS would store records A, AAAA and MX. Perhaps some others. Still, we
                      need not to rely on them too much and have the ability to communicate from
                      freedombox to another even if there is no DNS for us.</p>
                      
                      <p>So ... it comes down to the firewall and NAT restrictions.</p>
                      
                      <p>I suppose we could:</p>
                      
                      <ul>
                      <li><p>First, autoconfigure IPv4 and IPv6</p></li>
                      <li><p>Try opening NAT ports using UPnP</p></li>
                      <li><p>Check the IP connectivity. We suppose IPv6 is accessible from the Internet and
                      we look to see if the IPv4 is in a range that is routable (not in a private
                      non-routable range).</p>
                      
                      <p>Additionally, we could ask a service on the Internet to test our connectivity
                      if such a service is available. Both for IPv4 and IPv6.</p></li>
                      <li><p>If we don't have an IPv6 connectivity, open a tunnel to the IPv6 Internet.
                      Either Toredo or a manually configured tunnel if available.</p></li>
                      <li><p>Update our DNS record</p></li>
                      </ul>
                      
                      
                      <p>So now, we have at least IPv6 available ... and we can at least communicate with
                      the v6 Internet.</p>
                    </div>
                  </div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/03/29/pipe-e/'>PIPE(E)</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 29 Mar 2011,</span>
    <span class='time'>02:34 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../lisaac/'>lisaac</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>Inspired from ruby #Array:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := PIPE(E);&#x000A;&#x000A;Section Private&#x000A;&#x000A;  + blc :{;BOOLEAN,E};&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - create blc_:{;BOOLEAN,E} :SELF &lt;-&#x000A;  (&#x000A;    blc := blc_;&#x000A;    Self&#x000A;  );&#x000A;&#x000A;  - read :(BOOLEAN,E) &lt;- blc.value&#x000A;&#x000A;  - map blc:{E;X} :PIPE(X) &lt;-&#x000A;  ( // Upvalue Self&#x000A;    PIPE(X).clone.make {&#x000A;      + have_e :BOOLEAN;&#x000A;      + e :E;&#x000A;      (have_e, e) := Self.read;&#x000A;      have_e.if {&#x000A;        e := blc.value e;&#x000A;      };&#x000A;      have_e, e&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - select blc:{E;BOOLEAN} :PIPE(E) &lt;-&#x000A;  ( // Upvalue Self&#x000A;    PIPE(E).clone.make {&#x000A;      + have_e :BOOLEAN;&#x000A;      + e :E;&#x000A;      (have_e, e) := Self.read;&#x000A;      have_e.if {&#x000A;        blc.value e.if_false {&#x000A;          have_e := FALSE;&#x000A;        };&#x000A;      };&#x000A;      have_e, e&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - flatten_1 :PIPE(X) &lt;-&#x000A;  ( // Upvalue Self, buffer&#x000A;    + buffer :PIPE(X);&#x000A;    PIPE(X).clone.make {&#x000A;      + have_e, have_x :BOOLEAN;&#x000A;      + e :E;&#x000A;      + x :X;&#x000A;      buffer.is_null.if_false {&#x000A;        (have_e, e) := buffer.read;&#x000A;        have_e.if_false {&#x000A;          buffer := NULL;&#x000A;        };&#x000A;      };&#x000A;      buffer.is_null.if {&#x000A;        (have_e, e) := Self.read;&#x000A;        have_e.if {&#x000A;          (buffer ?= e).is_null.if_false {&#x000A;            (have_x, x) := buffer.read&#x000A;            // TODO: cas où have_e = FALSE (buffer est vide)&#x000A;          };&#x000A;        };&#x000A;      };&#x000A;      have_x, x&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - to_array_of_e :ARRAY(E) &lt;-&#x000A;  ( + result :ARRAY(E);&#x000A;    + have_e :BOOLEAN;&#x000A;    + e :E;&#x000A;    {(have_e, e) := read;&#x000A;    have_e&#x000A;    }.while_do {&#x000A;      result.add_last e;&#x000A;    };&#x000A;    result&#x000A;  );&#x000A;</code></pre>

<p>TODO:</p>

<ul>
<li>Upvalue</li>
<li>Syntax improvement (block input variables is too verbose)</li>
<li>More typing of parameter types, particurlarly as return values (map return unknown type X)</li>
<li><code>var := bool.if {val1} else {val2}</code></li>
<li>NULL.is_null -> TRUE</li>
</ul>
</div></div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/04/11/update_to_nanoc/'>Update to nanoc</a>
          </h2>
          <div>
                      <p class='meta'>
                        <span class='date-time'>
                          <span class='date'>Mon 11 Apr 2011,</span>
                          <span class='time'>05:38 PM</span>
                        </span>
                        <span class='tags'>
                          <span class='tag'>
                            <a class='tag' href='../'>en</a>
                          </span>
                          <span class='tag'>
                            <a class='tag' href='../../fr/'>fr</a>
                          </span>
                          <span class='tag'>
                            <a class='tag' href='../../website/'>website</a>
                          </span>
                        </span>
                      </p>
                      <div class='excerpt'>
                        <p>Je vais maintenant gérer mon site avec <a href="http://nanoc.stoneship.org/">nanoc</a>. Si vous remarquez des
                        problèmes comme des erreurs 404, merci de me l'indiquer.</p>
                        
                        <p>This web site is going to be updated using <a href="http://nanoc.stoneship.org/">nanoc</a>. If you notice any dead
                        links or anything of the sort, please tell me.</p>
                      </div>
                    </div>
          <div class='clear'></div>
        </div>
        <div class='sub-article'>
          <h2>
            <a class='permalink' href='../../../Blog/2011/04/12/lysaac_and_clusters/'>Lysaac and clusters</a>
          </h2>
          <div><p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 12 Apr 2011,</span>
    <span class='time'>04:35 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../dev/'>dev</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../lisaac/'>lisaac</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../lysaac/'>lysaac</a>
    </span>
  </span>
</p>
<div class='excerpt'>
  <p>If you noticed, I started my own Lisaac compiler, called <a href="http://github.com/mildred/lysaac">Lysaac</a> and I want
to make it a little bit different from Lisaac. I'll try to keep compatibility,
but for few things, I might take a different direction.</p>

<p>One of these things is the way prototypes are found.</p>

<p>In Lisaac, you have a complete set of prototypes and when you look for a
prototype, it is looked everywhere. This is not desirable. Imagine you are
writing a library that requires the prototype <code>FOO</code>. Currently, if <code>FOO</code> is not
present in the library, instead of issuing an error, the compiler would take the
<code>FOO</code> prototype in the application that use the library. Meaning that the
library is effectvely using a pieve of the application code.</p>

<p>I want to take the SmartEiffel approach and separate the source code in few
clusters. A cluster is a collection of prototypes. And the prototypes in a
cluster can only use the prototype of the same cluster or the prototypes of
imported clusters. This solve the above dependancy problem.</p>

<p>A cluster is a directory that contain prototypes in <code>.li</code> files and
subdirectories. If a subdirectory do not contain <code>.li</code> files, the
sub-subdirectories are not recursively searched. A cluster can import another
cluster using a cluster file ending with <code>.cli</code>.</p>

<p>An example of <code>.cli</code> file is as follows:</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Cluster LIBFOO;&#x000A;&#x000A;  - path := ("libfoo-3.14", "../libfoo");&#x000A;</code></pre>

<p>The search paths can be:</p>

<ul>
<li>relative to the <code>.cli</code> file if it starts with <code>.</code></li>
<li>relative to <code>LYSAAC_PATH</code> directories otherwise</li>
</ul>


<p><code>LISAAC_PATH</code> defaults to <code>$XDG_DATA_HOME/lysaac/lib:/usr/local/share/lysaac/lib:/usr/share/lysaac/lib</code>.</p>

<p>The search paths would then be for this example:</p>

<ul>
<li><code>$XDG_DATA_HOME/lysaac/lib/libfoo-3.14</code></li>
<li><code>/usr/local/share/lysaac/lib/libfoo-3.14</code></li>
<li><code>/usr/share/lysaac/lib/libfoo-3.14</code></li>
<li><code>../libfoo</code></li>
</ul>


<p>The parser for these files is being written. Then you can see the complete
hierarchy of the project:</p>

<pre><code>$ lysaac src&#x000A;◆ Root Cluster&#x000A;│ Cluster in: src&#x000A;├─◆ LIB (src/lib.cli)&#x000A;│ │ Cluster in: lib&#x000A;│ ├─◆ STDLIB (lib/stdlib.cli)&#x000A;│ │ │ Cluster in: /home/mildred/.local/share/lysaac/lib/stdlib&#x000A;│ │ ├─◇ STRING (...)&#x000A;│ │ ├─◇ ABSTRACT_STRING (...)&#x000A;│ │ ╰─◇ ...&#x000A;│ ├─◇ LIBC (lib/libc.li)&#x000A;│ ╰─◇ CSTRING (lib/cstring.li)&#x000A;├─◇ PARSER (src/parser.li)&#x000A;├─◇ CLUSTER_ITEM (src/cluster_item.li)&#x000A;├─◇ ITM_STYLE (src/itm_style.li)&#x000A;├─◇ LYSAAC (src/lysaac.li)&#x000A;├─◇ ITM_AFFECT (src/itm_affect.li)&#x000A;├─◇ ANY (src/any.li)&#x000A;├─◇ PARSER_CLI (src/parser_cli.li)&#x000A;╰─◇ CLUSTER (src/cluster.li)&#x000A;</code></pre>

<p>Now, each item in a cluster can be public or private. Public items are available
to the users of the clusters whereas private items are restricted to members of
the same cluster. To declare a private item, just say:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Private PROTOTYPE;&#x000A;</code></pre>

<p>or</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Private Cluster LIBTOTO;&#x000A;</code></pre>

<p>If you want to declare a whole bunch of prototypes private to your cluster, just
include them in a private cluster. To do so, you'll need the following files:</p>

<ul>
<li><p>cluster/my_private_prototypes.cli:</p>

<pre><code>Section Header&#x000A;&#x000A;  - name := Private Cluster MY_PRIVATE_PROTOTYPES;&#x000A;&#x000A;  - path := "./deps/my_private_prototypes";&#x000A;  // makes the cluster relative to the .cli file&#x000A;  // use a deps additional directory to avoid the current cluster to&#x000A;  // look into deps/my_private_prototypes. deps should not contain any&#x000A;  // files, just subdirectories.&#x000A;</code></pre></li>
<li><p>cluster/deps/my_private_prototypes/private_proto.li:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := Public Prototype PRIVATE_PROTO;&#x000A;</code></pre></li>
</ul>
</div></div>
          <div class='clear'></div>
        </div>
      </div>
      <div class='page-list'>
        <strong>Page:</strong>
        <ul class='page-list'>
          <li>
            <a href='../1/'>1</a>
          </li>
          <li>
            <a href='../2/'>2</a>
          </li>
          <li>
            <strong>3</strong>
          </li>
          <li>
            <a href='../4/'>4</a>
          </li>
          <li>
            <a href='../5/'>5</a>
          </li>
          <li>
            <a href='../'>latest</a>
          </li>
        </ul>
      </div>
      <div class='clear'></div>
    </div>
    <div class='clear'></div>
    <div class='footer'>
      <hr>
      <p>E-mail:
        <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#68;&#37;&#55;&#48;&#37;&#55;&#53;&#37;&#54;&#50;&#37;&#50;&#68;&#37;&#51;&#49;&#37;&#52;&#48;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#69;&#37;&#54;&#54;&#37;&#55;&#50;">&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#45;&#112;&#117;&#98;&#45;&#49;&#64;&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#46;&#102;&#114;</a>
      </p>
      <p>Mildred's Website: <a href="http://mildred.fr">http://mildred.fr</a>.
      I try to have <a href="http://www.w3.org/Provider/Style/URI">cools URI that don't change</a>.</p>
    </div>
  </body>
</html>
