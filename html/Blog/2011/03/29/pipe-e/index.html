<!DOCTYPE html>
<html>
  <head>
    <title>PIPE(E) - Mildred's Website</title>
    <meta charset='utf-8'>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta content='lisaac, comp, en' name='keywords'>
    <meta content='' name='description'>
    <meta content='initial-scale=1.0, width=device-width' name='viewport'>
    <meta content='article' name='x-kind'>
    <link href='http://mildred.fr/Blog/2011/03/29/pipe-e/' rel='canonical'>
    <link href='../../../../../favicon.png' rel='icon' type='image/png'>
    <link href='../../../../../favicon.png' rel='shortcut icon' type='image/png'>
    <link href='../../../../../style.css' media='screen' rel='stylesheet' type='text/css'>
    <script src='../../../../../Scripts/json/json2.js' type='text/javascript'></script>
    <script src='../../../../../Scripts/jquery.min.js' type='text/javascript'></script>
    <script src='../../../../../Scripts/comments.js' type='text/javascript'></script>
    <script src='../../../../../Scripts/local.js' type='text/javascript'></script>
  </head>
  <body>
    <div class='header'>
      <p class='access-links'>
        <a href='#menu'>Go to Menu</a>
        <br>
        <a href='#content'>Go to Content</a>
      </p>
      <div class='left'>
        <a href='../../../../../'>
          <img alt='My photo' class='photo' src='../../../../../Images/IMG_5669_square_128.jpeg'>
        </a>
      </div>
      <div class='title'>
        <h1>
          <a href='../../../../../'>Mildred's Website</a>
        </h1>
      </div>
      <div class='float-right'></div>
      <div class='clear-right'></div>
      <div class='right'>
        <strong>Tags:</strong>
        <ul class='tags'>
          <li>
            <a class='tag' href='../../../../../tags/cobra/'>cobra</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/comp/'>comp</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/configuration/'>configuration</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/dev/'>dev</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/dream/'>dream</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/en/'>en</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/fedora/'>fedora</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/fr/'>fr</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/freedombox/'>freedombox</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/git/'>git</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/html/'>html</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/idea/'>idea</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/liens/'>liens</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/lisaac/'>lisaac</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/lysaac/'>lysaac</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/misc/'>misc</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/photos/'>photos</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/physics/'>physics</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/politique/'>politique</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/privacy/'>privacy</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/srs/'>srs</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/test/'>test</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/web/'>web</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/website/'>website</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/wwwgen/'>wwwgen</a>
          </li>
          <li>
            <a class='tag' href='../../../../../tags/wwwsupport/'>wwwsupport</a>
          </li>
        </ul>
      </div>
      <div class='content'>
        <div class='links' id='menu'>
          <ul>
            <li>
              <a href='../../../../../'>Home</a>
            </li>
            <li>
              <a href='../../../../'>Blog</a>
            </li>
            <li>
              <a href='//survie.mildred.fr'>Survie</a>
            </li>
          </ul>
        </div>
      </div>
      <div class='clear'></div>
    </div>
    <div class='leftcol'>
      <img alt='My avatar' class='photo' src='../../../../../Images/all128.jpeg'>
      <hr>
      <p>GoogleTalk, Jabber, XMPP address:
      <br /><strong><a href="xmpp:mildred&#64;jabber.fr">mildred&#64;jabber.fr</a></strong><!--&nbsp;<img src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/image-dcraven.png" alt="" /><br /><em><script type="text/javascript" src="http://presence.jabberfr.org/2dc519ffec76a836c2f2c2f66ac38291/message_js.js"></script></em>-->
      </p>
      <hr>
      <p>
        <a href='../../../../../gpg_key.txt'>GPG Public Key</a>
        <br>
        <span style='font-size: 0.8em'>
          (Fingerprint 197C A7E6 645B 4299 6D37 684B 6F9D A8D6 9A7D 2E2B)
        </span>
      </p>
    </div>
    <div class='main' id='content'>
      <h1>PIPE(E)</h1>
<p class='meta'>
  <span class='date-time'>
    <span class='date'>Tue 29 Mar 2011,</span>
    <span class='time'>02:34 PM</span>
  </span>
  <span class='tags'>
    <span class='tag'>
      <a class='tag' href='../../../../../tags/comp/'>comp</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../../../../tags/en/'>en</a>
    </span>
    <span class='tag'>
      <a class='tag' href='../../../../../tags/lisaac/'>lisaac</a>
    </span>
  </span>
</p>
<div class='body'><p>Inspired from ruby #Array:</p>

<pre><code>Section Header&#x000A;&#x000A;  + name := PIPE(E);&#x000A;&#x000A;Section Private&#x000A;&#x000A;  + blc :{;BOOLEAN,E};&#x000A;&#x000A;Section Public&#x000A;&#x000A;  - create blc_:{;BOOLEAN,E} :SELF &lt;-&#x000A;  (&#x000A;    blc := blc_;&#x000A;    Self&#x000A;  );&#x000A;&#x000A;  - read :(BOOLEAN,E) &lt;- blc.value&#x000A;&#x000A;  - map blc:{E;X} :PIPE(X) &lt;-&#x000A;  ( // Upvalue Self&#x000A;    PIPE(X).clone.make {&#x000A;      + have_e :BOOLEAN;&#x000A;      + e :E;&#x000A;      (have_e, e) := Self.read;&#x000A;      have_e.if {&#x000A;        e := blc.value e;&#x000A;      };&#x000A;      have_e, e&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - select blc:{E;BOOLEAN} :PIPE(E) &lt;-&#x000A;  ( // Upvalue Self&#x000A;    PIPE(E).clone.make {&#x000A;      + have_e :BOOLEAN;&#x000A;      + e :E;&#x000A;      (have_e, e) := Self.read;&#x000A;      have_e.if {&#x000A;        blc.value e.if_false {&#x000A;          have_e := FALSE;&#x000A;        };&#x000A;      };&#x000A;      have_e, e&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - flatten_1 :PIPE(X) &lt;-&#x000A;  ( // Upvalue Self, buffer&#x000A;    + buffer :PIPE(X);&#x000A;    PIPE(X).clone.make {&#x000A;      + have_e, have_x :BOOLEAN;&#x000A;      + e :E;&#x000A;      + x :X;&#x000A;      buffer.is_null.if_false {&#x000A;        (have_e, e) := buffer.read;&#x000A;        have_e.if_false {&#x000A;          buffer := NULL;&#x000A;        };&#x000A;      };&#x000A;      buffer.is_null.if {&#x000A;        (have_e, e) := Self.read;&#x000A;        have_e.if {&#x000A;          (buffer ?= e).is_null.if_false {&#x000A;            (have_x, x) := buffer.read&#x000A;            // TODO: cas o√π have_e = FALSE (buffer est vide)&#x000A;          };&#x000A;        };&#x000A;      };&#x000A;      have_x, x&#x000A;    }&#x000A;  );&#x000A;&#x000A;  - to_array_of_e :ARRAY(E) &lt;-&#x000A;  ( + result :ARRAY(E);&#x000A;    + have_e :BOOLEAN;&#x000A;    + e :E;&#x000A;    {(have_e, e) := read;&#x000A;    have_e&#x000A;    }.while_do {&#x000A;      result.add_last e;&#x000A;    };&#x000A;    result&#x000A;  );&#x000A;</code></pre>

<p>TODO:</p>

<ul>
<li>Upvalue</li>
<li>Syntax improvement (block input variables is too verbose)</li>
<li>More typing of parameter types, particurlarly as return values (map return unknown type X)</li>
<li><code>var := bool.if {val1} else {val2}</code></li>
<li>NULL.is_null -> TRUE</li>
</ul></div>
      <noscript>
        <p>
          Scripts are disabled on your computer. In order to access existing
          comments and post new comments, you need to enable Javascript.
        </p>
        <p>
          Rationale: This server that hosts my website is a static server.
          In order to implement comments, a XmlHttpRequest is made on an API
          server to both retrieve the comments and post a new comment.
        </p>
      </noscript>
      <div class='clear'></div>
    </div>
    <div class='clear'></div>
    <div class='footer'>
      <hr>
      <p>E-mail: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#68;&#37;&#55;&#48;&#37;&#55;&#53;&#37;&#54;&#50;&#37;&#52;&#48;&#37;&#54;&#68;&#37;&#54;&#57;&#37;&#54;&#67;&#37;&#54;&#52;&#37;&#55;&#50;&#37;&#54;&#53;&#37;&#54;&#52;&#37;&#50;&#69;&#37;&#54;&#54;&#37;&#55;&#50;">&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#45;&#112;&#117;&#98;&#64;&#109;&#105;&#108;&#100;&#114;&#101;&#100;&#46;&#102;&#114;</a></p>
      <p>Mildred's Website: <a href="http://mildred.fr">http://mildred.fr</a>.
      I try to have <a href="http://www.w3.org/Provider/Style/URI">cools URI that don't change</a>.</p>
    </div>
  </body>
</html>
